@using Log4JDash.Web.Models
@model Log4JDash.Web.Controllers.LogIndexViewModel

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>List</title>
        <style type="text/css">
            .log-query {
                position: fixed;
            }

            .log-list {
                padding-top: 3.5em;
            }

            .log-item-debug {
                background-color: #dddddd;
            }
            .log-item-info {
                background-color: #bbffbb;
            }
            .log-item-warn {
                background-color: #ffffbb;
            }
            .log-item-error {
                background-color: #ffbbbb;
            }
            .log-item-fatal {
                background-color: #000;
            }
            .log-item-fatal * {
                color: #fff;
            }
        </style>
    </head>
    <body>
        @{
            var query = new LogQuery ();
            var any = false;
        }
        @using (Html.BeginForm (null, null, FormMethod.Get, new { @class = "log-query" }))
        {
            <div>
                @Html.EditorFor(_ => query, null, String.Empty)
            </div>
            <div>
                <input type="submit" value="Искать" />
            </div>
        }
        <ol class="log-list">
            @foreach (var @event in Model.Events)
            {
                any = true;
                @Html.DisplayFor(_ => @event)
            }
        </ol>
        @if (!any)
        {
            <div>Empty!</div>
        }
    </body>
</html>
